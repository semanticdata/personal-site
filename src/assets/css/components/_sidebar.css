/**
 * SIDEBAR COMPONENT - CSS Only
 * Creates a sidebar layout with flexible main content
 * Based on Every Layout implementation
 * Usage: <sidebar-l side="left" min-width="60%" gap="var(--s1)">
 *
 * Intrinsically responsive - uses flex-grow: 999 algorithm
 */

/* EVERY LAYOUT: SIDEBAR BASE STYLES
 * CSS of suggestion: uses custom property fallbacks
 * Works with ANY value for gap, sidebar-width, min-content-width, align
 */
sidebar-l {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space, var(--s1));
  align-items: var(--align, flex-start);
}

sidebar-l > * {
  flex-grow: 1;
}

/* EVERY LAYOUT: SIDEBAR (FIRST CHILD)
 * Fixed width sidebar using custom property
 * Examples: sidebar-width="15rem" sidebar-width="20em" sidebar-width="var(--s3)"
 */
sidebar-l > *:first-child {
  flex-basis: var(--sidebar-width, 15rem);
  flex-grow: 0;
  min-inline-size: 10em;
  max-inline-size: var(--sidebar-width, 15rem);
}

/* EVERY LAYOUT: THE 999 TECHNIQUE
 * Main content takes all remaining space
 * flex-grow: 999 makes it fill available space while respecting min-width
 * See notes-composition.md for the theory
 */
sidebar-l > *:last-child {
  flex-basis: 0;
  flex-grow: 999;
  min-inline-size: var(--min-content-width, 50%);
}
