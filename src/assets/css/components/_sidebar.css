/**
 * SIDEBAR COMPONENT - CSS Only
 * Creates a sidebar layout with flexible main content
 * Intrinsically responsive - wraps based on available space
 * Usage: <sidebar-l style="--sidebar-gap: var(--s1); --sidebar-width: 15rem; --sidebar-min-width: 60%" center-main>
 * https://every-layout.dev/layouts/sidebar/
 */

sidebar-l {
  display: flex;
  flex-wrap: wrap;
  gap: var(--sidebar-gap, var(--s1));
  align-items: var(--sidebar-align, flex-start);
}

/* Both children can grow when wrapped */
/* sidebar-l > * {
  flex-grow: 1;
} */

/* First child is the sidebar: fixed width, doesn't compete for space */
sidebar-l > *:first-child {
  flex-basis: var(--sidebar-width, 15rem);
  /* flex-grow: 0; */
  /* flex-shrink: 0; */
  flex-grow: 1;
}

/* Second child is the main content: takes all remaining space
 * flex-grow: 999 ensures it wins the space competition
 * min-inline-size determines when to wrap (50% = when sidebar is no longer the narrower element)
 */
sidebar-l > *:last-child {
  flex-basis: 0;
  flex-grow: 999;
  min-inline-size: var(--sidebar-min-width, 50%);
}

/* Optional: center main content in available space */
sidebar-l[center-main] > *:last-child {
  flex-basis: var(--measure);
  margin-inline: auto;
}

sidebar-l[center-main] {
  justify-content: center;
}
