/**
 * STACK COMPONENT - CSS Only
 * Injects margin between flow elements
 * Usage: <stack-l style="--stack-space: var(--s1)">
 * https://every-layout.dev/layouts/stack/
 */

stack-l {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

stack-l > * {
  margin-block: 0;
}

/* Owl selector: only applies margin between adjacent elements */
stack-l > * + * {
  margin-block-start: var(--stack-space, var(--s1));
}

/* Match parent height when only child (enables split feature) */
stack-l:only-child {
  block-size: 100%;
}

/* Recursive mode: applies spacing at all nesting levels
 * Warning: affects lists (ul/li, dt/dd) and other nested elements
 */
stack-l[recursive] > * {
  margin-block: 0;
}

stack-l[recursive] * + * {
  margin-block-start: var(--stack-space, var(--s1));
}

/* Split feature: push content apart using auto margin */
stack-l[split-after="1"] > :nth-child(1) { margin-block-end: auto; }
stack-l[split-after="2"] > :nth-child(2) { margin-block-end: auto; }
stack-l[split-after="3"] > :nth-child(3) { margin-block-end: auto; }
stack-l[split-after="4"] > :nth-child(4) { margin-block-end: auto; }
stack-l[split-after="5"] > :nth-child(5) { margin-block-end: auto; }
stack-l[split-after="6"] > :nth-child(6) { margin-block-end: auto; }
