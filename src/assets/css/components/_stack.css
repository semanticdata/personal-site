/**
 * STACK COMPONENT - CSS Only
 * A custom element for injecting white space (margin) between flow elements
 * Usage: <stack-l space="var(--s1)" recursive splitAfter="2">
 *
 * Based on Every Layout principles: https://every-layout.dev/
 * Uses modular scale for harmonious spacing based on line-height
 */

/* EVERY LAYOUT: STACK BASE STYLES */
stack-l {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

/* Reset margins for all children */
stack-l > * {
  margin-block: 0;
}

/* EVERY LAYOUT: CSS OF SUGGESTION
 * Default spacing using custom property fallback chain
 * Works with ANY value: space="var(--s1)" space="calc(var(--s1) * 2)" space="2rem"
 * No hardcoded variants needed - browser calculates the right value
 */
stack-l > * + * {
  margin-block-start: var(--child-space, var(--space, var(--s1)));
}

/* EVERY LAYOUT: RECURSIVE MODE
 * Applies spacing at all nesting levels, not just direct children
 */
stack-l[recursive] > * {
  margin-block: 0;
}

stack-l[recursive] * + * {
  margin-block-start: var(--space, var(--s1));
}

/* EVERY LAYOUT: SPLIT FEATURE
 * Pushes content apart using auto margin
 * CSS of suggestion: let browser calculate available space
 */
stack-l[split-after="1"] > :nth-child(1) { margin-block-end: auto; }
stack-l[split-after="2"] > :nth-child(2) { margin-block-end: auto; }
stack-l[split-after="3"] > :nth-child(3) { margin-block-end: auto; }
stack-l[split-after="4"] > :nth-child(4) { margin-block-end: auto; }
stack-l[split-after="5"] > :nth-child(5) { margin-block-end: auto; }
stack-l[split-after="6"] > :nth-child(6) { margin-block-end: auto; }
